<div class="w-full">
    <!-- Header -->
    <div class="flex flex-col w-full max-w-screen-xl mx-auto px-6 sm:px-8 mediro-detail-top-bg">
        <div class="flex flex-row sm:flex-row flex-auto sm:items-center min-w-0 my-4 sm:my-4">
            <!-- Avatar and name -->
            <div class="flex flex-auto items-center min-w-0">
                <div class="flex flex-col min-w-0 ml-2">
                    <div class="text-2xl md:text-2xl tracking-tight leading-7 md:leading-snug truncate"
                         style="color: white">공급내역 보고자료
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="flex flex-auto overflow-hidden">
        <div class="flex flex-col flex-auto sm:mb-18 overflow-hidden mediro-detail-form-custom">
            <div class="flex pt-4 pl-4 pr-4">
                <form
                    class="flex flex-col w-full"
                    [formGroup]="selectedForm">
                    <div class="flex p-2">
                        <div class="flex flex-auto">
                            <div class="flex flex-col w-full pr-0">
                                <div class="grid grid-cols-3 sm:grid-cols-3 gap-2 w-full sm:pr-2 mt-2">
                                    <div class="sm:col-span-2">
                                        <div class="w-full text-xl">UDI 계정정보 등록</div>
                                    </div>
                                    <div class="sm:col-span-2">
                                        <div class="w-full text-secondary">공급내역 보고를 위한 식약청 공급내역 보고 사이트의 아이디와 시크릿키를 입력해주세요.</div>
                                    </div>
                                    <div class="sm:col-span-2">
                                        <div class="w-full text-secondary">* 아이디와 시크릿키는 암호화되어 저장되므로 안심하세요.</div>
                                    </div>
                                </div>
                                <div class="grid sm:grid-cols-6 gap-2 w-full sm:pr-2 mt-2">
                                    <!-- Email -->
                                    <mat-form-field class="sm:col-span-3 mediro-form-field-custom">
                                            <mat-label>Client Id</mat-label>
                                            <mat-icon
                                                class="icon-size-5"
                                                [svgIcon]="'heroicons_solid:identification'"
                                                matPrefix></mat-icon>
                                            <input
                                                [formControlName]="'udiClientId'"
                                                matInput>
                                        </mat-form-field>
                                    <!-- Phone -->
                                    <mat-form-field class="sm:col-span-3 mediro-form-field-custom">
                                            <mat-label>Secret Key</mat-label>
                                            <mat-icon
                                                class="icon-size-5"
                                                [svgIcon]="'heroicons_solid:key'"
                                                matPrefix></mat-icon>
                                            <input
                                                [formControlName]="'udiClientSecret'"
                                                type="password"
                                                matInput>
                                        </mat-form-field>
                                </div>

                                <div class="mt-8 mb-8 border-t"></div>
                                <div class="grid sm:grid-cols-6 gap-2 w-full sm:pr-2 mt-2">
                                    <!-- Name -->
                                    <mat-form-field class="sm:col-span-3 mediro-form-field-custom">
                                        <mat-label>연도
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <mat-select [formControlName]="'year'"
                                                    (ngModelChange)="changeDate()">
                                            <ng-container *ngFor="let year of year">
                                                <mat-option [value]="year.id">
                                                    {{year.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-select>
                                    </mat-form-field>
                                    <!-- Name -->
                                    <mat-form-field class="sm:col-span-3 mediro-form-field-custom">
                                        <mat-label>월
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <mat-select [formControlName]="'month'"
                                                    (ngModelChange)="changeDate()">
                                            <ng-container *ngFor="let month of month">
                                                <mat-option [value]="month.id">
                                                    {{month.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="grid sm:grid-cols-6 gap-2 w-full sm:pr-2 mt-2">
                                    <!-- Name -->
                                    <mat-form-field class="sm:col-span-3 mediro-form-field-custom">
                                        <mat-label>공급구분
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <mat-select [formControlName]="'suplyFlagCode'"
                                                    (ngModelChange)="changeSuplyFlagCode()">
                                            <ng-container *ngFor="let suplyFlagCode of suplyFlagCode">
                                                <mat-option [value]="suplyFlagCode.id">
                                                    {{suplyFlagCode.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-select>
                                    </mat-form-field>
                                    <!-- Name -->
                                    <mat-form-field class="sm:col-span-3 mediro-form-field-custom"
                                                    [hidden]="suplyTypeCodeHidden">
                                        <mat-label>공급형태
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <mat-select [formControlName]="'suplyTypeCode'">
                                            <ng-container *ngFor="let suplyTypeCode of suplyTypeCode">
                                                <mat-option [value]="suplyTypeCode.id">
                                                    {{suplyTypeCode.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="grid sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2">
                                    <mat-form-field class="sm:col-span-4 mediro-form-field-custom">
                                        <mat-label>표준코드
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'stdCode'"
                                            [attr.disabled]="is_edit?'':false">
                                    </mat-form-field>
                                </div>
                                <div class="grid sm:grid-cols-6 gap-2 w-full sm:pr-2 mt-2">
                                    <mat-form-field class="sm:col-span-3 mediro-form-field-custom">
                                        <mat-label>고유식별자(UDI-DI)
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <input
                                            matInput
                                            (ngModelChange)="udiDiCodeChain()"
                                            [formControlName]="'udiDiCode'">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-3 mediro-form-field-custom">
                                        <mat-label>생산식별자(UDI-PI)
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <input
                                            matInput
                                            (ngModelChange)="udiPiCodeChain()"
                                            [formControlName]="'udiPiCode'">
                                    </mat-form-field>
                                </div>
                                <div class="grid sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2">
                                    <mat-form-field class="sm:col-span-2 mediro-form-field-custom">
                                        <mat-label>업체명</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'entpName'"
                                            [attr.disabled]="is_edit?'':false">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>품목명</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'itemName'"
                                            [attr.disabled]="is_edit?'':false">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>모델명</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'typeName'"
                                            [attr.disabled]="is_edit?'':false">
                                    </mat-form-field>
                                </div>
                                <div class="grid grid-cols-4 sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2">
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>분류번호</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'meaClassNo'"
                                            [attr.disabled]="is_edit?'':false">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>품목허가번호</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'permitNo'"
                                            [attr.disabled]="is_edit?'':false">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>등급</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'grade'">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>포장내 수량</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'packQuantity'">
                                    </mat-form-field>
                                </div>
                                <div class="grid grid-cols-4 sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2">
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>로트번호</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'lotNo'"
                                            [attr.disabled]="is_edit?'':false">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>일련번호</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'itemSeq'"
                                            [attr.disabled]="is_edit?'':false">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>제조연월</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'manufYm'"
                                            [attr.disabled]="is_edit?'':false">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>사용기한</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'useTmlmt'"
                                            [attr.disabled]="is_edit?'':false">
                                    </mat-form-field>
                                </div>
                                <div class="grid grid-cols-4 sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2">
                                    <div class="sm:col-span-2" [hidden]="changeAccountHidden">
                                        <mat-form-field class="w-full mediro-form-field-custom">
                                            <mat-label>{{changeAccountText}}
                                                <mat-icon class="icon-size-3"
                                                          svgIcon="heroicons_solid:check-circle"></mat-icon>
                                            </mat-label>
                                            <input
                                                matInput
                                                (click)="accountSearch()"
                                                [formControlName]="'bcncEntpName'">
                                        </mat-form-field>
                                    </div>
                                    <div class="sm:col-span-2" [hidden]="changeAccountHidden">
                                        <mat-form-field class="w-full  mediro-form-field-custom">
                                            <mat-label>거래처 소재지</mat-label>
                                            <input
                                                matInput
                                                [formControlName]="'bcncEntpAddr'"
                                                [attr.disabled]="is_edit?'':false">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="grid grid-cols-4 sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2"
                                     [hidden]="changeAccountHidden">
                                    <div class="sm:col-span-2" [hidden]="changeAccountHidden">
                                        <mat-form-field class="w-full mediro-form-field-custom">
                                            <mat-label>거래처 업종</mat-label>
                                            <input
                                                matInput
                                                [formControlName]="'cobTypeName'"
                                                [attr.disabled]="is_edit?'':false">
                                        </mat-form-field>
                                    </div>
                                    <div class="sm:col-span-2" [hidden]="changeAccountHidden">
                                        <mat-form-field class="w-full mediro-form-field-custom">
                                            <mat-label>거래처 사업자등록번호</mat-label>
                                            <input
                                                matInput
                                                [formControlName]="'bcncTaxNo'"
                                                [attr.disabled]="is_edit?'':false">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="grid grid-cols-4 sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2">
                                    <div class="sm:col-span-4" [hidden]="changeIsDiffDvyfgHidden">
                                        <mat-checkbox
                                            [formControlName]="'isDiffDvyfg'"
                                            (ngModelChange)="updateIsDiffDvyfg()">
                                            <mat-label>공급받는 자와 납품장소가 다름</mat-label>
                                        </mat-checkbox>
                                    </div>
                                </div>
                                <div class="grid grid-cols-4 sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2">
                                    <div class="sm:col-span-2" [hidden]="changeDlvAccountHidden">
                                        <mat-form-field class="w-full mediro-form-field-custom">
                                            <mat-label>납품장소</mat-label>
                                            <input
                                                matInput
                                                [formControlName]="'dvyfgEntpName'"
                                                (click)="dlvAccountSearch()">
                                        </mat-form-field>
                                    </div>
                                    <div class="sm:col-span-2" [hidden]="changeDlvAccountHidden">
                                        <mat-form-field class="w-full mediro-form-field-custom">
                                            <mat-label>납품장소 소재지</mat-label>
                                            <input
                                                matInput
                                                [formControlName]="'dvyfgEntpAddr'"
                                                [attr.disabled]="is_edit?'':false">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="grid grid-cols-4 sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2">
                                    <div class="sm:col-span-2" [hidden]="changeDlvAccountHidden">
                                        <mat-form-field class="w-full mediro-form-field-custom">
                                            <mat-label>납품장소 업종</mat-label>
                                            <input
                                                matInput
                                                [formControlName]="'dvyfgCobTypeName'"
                                                [attr.disabled]="is_edit?'':false">
                                        </mat-form-field>
                                    </div>
                                    <div class="sm:col-span-2" [hidden]="changeDlvAccountHidden">
                                        <mat-form-field class="w-full mediro-form-field-custom">
                                            <mat-label>납품장소 사업자등록번호</mat-label>
                                            <input
                                                matInput
                                                [formControlName]="'dvyfgTaxNo'"
                                                [attr.disabled]="is_edit?'':false">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="grid grid-cols-4 sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2">
                                    <mat-form-field class="sm:col-span-2 mediro-form-field-custom">
                                        <mat-label>비고</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'remark'">
                                    </mat-form-field>
                                </div>
                                <div class="grid grid-cols-4 sm:grid-cols-4 gap-2 w-full sm:pr-2 mt-2">
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>{{changeText}}일자
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <input
                                            matInput
                                            type="date"
                                            min="{{minDate}}"
                                            max="{{maxDate}}"
                                            [formControlName]="'suplyDate'">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom">
                                        <mat-label>{{changeText}}수량
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <input
                                            type="number"
                                            matInput
                                            (ngModelChange)="changePrice()"
                                            [formControlName]="'suplyQty'">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom" [hidden]="hidden">
                                        <mat-label>단가
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <input
                                            type="number"
                                            matInput
                                            (ngModelChange)="changePrice()"
                                            [formControlName]="'suplyUntpc'">
                                    </mat-form-field>
                                    <mat-form-field class="sm:col-span-1 mediro-form-field-custom" [hidden]="hidden">
                                        <mat-label>금액
                                            <mat-icon class="icon-size-3"
                                                      svgIcon="heroicons_solid:check-circle"></mat-icon>
                                        </mat-label>
                                        <input
                                            type="number"
                                            matInput
                                            [formControlName]="'suplyAmt'">
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="mediro-sample-button">
                <ng-container>
                    <!-- Save -->
                    <button
                        class="sm:col-span-1"
                        mat-stroked-button
                        (click)="suplyCreate()">
                        추가
                    </button>
                </ng-container>
            </div>
        </div>
    </div>
</div>
